<!DOCTYPE html>
<html lang="en">
<body>

<canvas id="myCanvas" width="800" height="500"
style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<script src="8-colors.js"></script>

<script>
var canvas;
var context;


function init() 
{
    canvas = document.getElementById("myCanvas");
    context = canvas.getContext("2d");

    // add list
    canvas.addEventListener('click', clickListener, false);
    canvas.addEventListener('move', moveListener, false);
    
    // watch for selection of color or brush shape, then set the state
    // when drawing we need these stats
    startWatching();
}

// mouse listener for drawing
function clickListener(e)
{
    console.log("clicked");   
    // show the state
    updateShape(); // see in 8-colors.js, show the shape of pen/eraser in normal state  
}

// when moving then start drawing or erasing something
function clickMove(e)
{
    console.log("Moved");
    if (state  = pen)
    {
       draw_line(); // see in 8-colors.js 
    }
    else
    {   
        erase_image();  // see in 8-colors.js
    }
}


// draw something
function draw()
{
    var color = document.getElementById("penColor"); 
    context.fillStyle = color;
    context.strokeRect(20, 20, canvas.width-20, canvas.height-20);
}


function startWatching()
{
    var c = document.getElementById("myCanvas"); 
    context = c.getContext("2d");
    
    // here add a mouse listener so that it will watch the move of mouse
    // and do some operations
    // 1) click then drawing or erasing according to current state
    // 2) release then do nothing

   // get brush radio selection state so that we know our current brush Shape    
   var brush1 = document.getElementById("brush1");
   var brush2 = document.getElementById("brush2");
   
   if (brsuh1.isChecked())
   {
        mBrushShape =  0; //"circle";    
   }
   else
   {
        mBrushShape  = 1;   // square
   }
   
   // get current selection color
    var color = document.getElementById("penColor"); 
    context.fillStyle = color;
}


</script>
<br><br>
<label for="penColor">Choose a color for brush :</label> 
<input id="penColor" type="color" />
<br><br>
<label for="brushShape">Choose a shape for brush :</label> 
<input id = "brush1" type="radio" name="shape" value="circle" checked>Circle
<input id = "brush2" type="radio" name="shape" value="square">Square
<br><br>

</body>
</html>
